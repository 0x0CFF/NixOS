general {
    lock_cmd = pidof hyprlock || hyprlock       # 避免启动多个 Hyprlock 实例
    before_sleep_cmd = loginctl lock-session    # 在暂停之前锁定
    after_sleep_cmd = hyprctl dispatch dpms on  # 避免必须按两次键才能打开显示屏
}

listener {
    timeout = 150                                # 2.5min.
    on-timeout = brightnessctl -s set 10         # 将显示器背光设置为最小，避免在 OLED 显示器上为 0
    on-resume = brightnessctl -r                 # 显示器背光恢复
}

# 关闭键盘背光，如果没有键盘背光，请注释掉此部分
# listener {
#     timeout = 150                                          # 2.5min.
#     on-timeout = brightnessctl -sd rgb:kbd_backlight set 0 # 关闭键盘背光
#     on-resume = brightnessctl -rd rgb:kbd_backlight        # 打开键盘背光
# }

listener {
    timeout = 300                                 # 5min
    on-timeout = loginctl lock-session            # 超时时的锁定屏幕
}

listener {
    timeout = 330                                 # 5.5min
    on-timeout = hyprctl dispatch dpms off        # 超时后屏幕关闭
    on-resume = hyprctl dispatch dpms on          # 超时触发后检测到活动时的屏幕打开
}

listener {
    timeout = 1800                                # 30min
    on-timeout = systemctl suspend                # 挂起设备
}
